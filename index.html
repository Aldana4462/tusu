<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>La Cápsula</title>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    /* Estilos Grid 3D y Movimiento */
    body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      overflow-x: hidden;
      background: #000;
      color: #fff;
    }
    .grid-plane {
      position: absolute;
      left: 50%;
      bottom: -50vh;
      width: 200vw;
      height: 200vh;
      transform: rotateX(60deg) translateZ(-200px);
      transform-origin: top center;
      background:
        repeating-linear-gradient(#00e5ff 0 2px, transparent 2px 40px),
        repeating-linear-gradient(90deg, #00e5ff 0 2px, transparent 2px 40px);
      filter: blur(1px);
      z-index: -1;
    }
    .grid-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.6);
      pointer-events: none;
      z-index: 0;
    }

    /* Navbar */
    nav {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 60px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 20px;
      box-sizing: border-box;
      background: transparent;
      z-index: 1000;
    }
    nav .logo {
      font-weight: 700;
      font-size: 24px;
      text-shadow: 0 0 5px rgba(255,255,255,0.3);
    }
    nav button {
      background: #1DE9B6;
      color: #fff;
      border: none;
      padding: 10px 20px;
      border-radius: 4px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      text-transform: uppercase;
      letter-spacing: 1px;
      cursor: pointer;
      transition: transform 0.2s ease-out;
    }
    nav button:hover { transform: scale(1.05); }

    /* 3D Scene Container */
    .scene {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      perspective: 800px;
      perspective-origin: 50% 20%;
      overflow: hidden;
      transform-style: preserve-3d;
      z-index: 2;
    }

    /* Estilos Cápsula Cristal */
    .capsule {
      position: absolute;
      left: 50%;
      top: 50%;
      width: 80px;
      height: 80px;
      border: 3px solid rgba(255,255,255,0.9);
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.6) 0%, rgba(200,200,200,0.15) 60%, rgba(50,50,50,0.8) 100%);
      box-shadow: inset 0 0 12px rgba(0,0,0,0.5), 0 6px 18px rgba(0,0,0,0.7);
      transform-style: preserve-3d;
      transition: transform 0.3s ease-out;
    }
    .capsule-overlay {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      border-radius: 50%;
        background:
          radial-gradient(circle at 30% 30%, rgba(255,255,255,0.5) 0%, rgba(255,255,255,0) 60%),
          rgba(200,230,255,0.08);
        backdrop-filter: blur(2px);
        pointer-events: none;
        transition: background 0.3s ease-out;
    }
    .capsule:hover { transform: scale(1.1) !important; }
    .capsule:hover .capsule-overlay {
        background:
          radial-gradient(circle at 30% 30%, rgba(255,255,255,0.7) 0%, rgba(255,255,255,0) 50%),
          rgba(200,230,255,0.12);
    }

    /* Hero overlay */
    .hero-overlay {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      z-index: 2;
      pointer-events: none;
    }
    .hero-overlay .text-box {
      background: rgba(0,0,0,0.4);
      padding: 10px 20px;
      border-radius: 4px;
      display: inline-block;
    }
    .hero-overlay h1 {
      font-weight: 700;
      font-size: 48px;
      margin: 0;
      text-shadow: 0 0 10px rgba(255,255,255,0.4);
    }
    .hero-overlay p {
      font-weight: 600;
      font-size: 18px;
      margin: 10px 0 0;
      color: rgba(255,255,255,0.8);
    }

    /* Explicación */
    .explanation {
      background: #0F0F0F;
      padding: 60px 20px;
      color: #E0E0E0;
      text-align: center;
      position: relative;
      z-index: 2;
      margin-top: 100vh;
    }
    .explanation h2 {
      font-size: 32px;
      margin-bottom: 20px;
    }
    .explanation p {
      font-size: 18px;
      line-height: 1.5;
      max-width: 800px;
      margin: 0 auto 20px;
      color: rgba(224,224,224,0.9);
    }
    #counter {
      color: #1DE9B6;
      font-weight: 600;
      margin-bottom: 20px;
    }
    .explanation button {
      background: #FF4081;
      color: #fff;
      border: none;
      padding: 10px 20px;
      border-radius: 4px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      text-transform: uppercase;
      letter-spacing: 1px;
      cursor: pointer;
      transition: transform 0.2s ease-out;
    }
    .explanation button:hover { transform: scale(1.05); }

    /* Modal styles */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      background: rgba(0,0,0,0.9);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1001;
    }
    .modal-content {
      background: #1A1A1A;
      padding: 30px;
      border-radius: 8px;
      width: 90%;
      max-width: 400px;
      position: relative;
      color: #FFF;
    }
    #closeModal {
      position: absolute;
      top: 10px;
      right: 10px;
      font-size: 28px;
      cursor: pointer;
    }
    .modal-content label {
      display: block;
      margin-top: 10px;
      font-size: 14px;
    }
    .modal-content input,
    .modal-content textarea {
      width: 100%;
      padding: 8px;
      background: #222;
      color: #FFF;
      border: 1px solid #444;
      border-radius: 4px;
      margin-top: 5px;
      box-sizing: border-box;
      resize: vertical;
    }
    .modal-content textarea { height: 80px; }
    .modal-content button[type="submit"] {
      background: #FF4081;
      color: #FFF;
      text-transform: uppercase;
      letter-spacing: 1px;
      padding: 12px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      width: 100%;
      margin-top: 20px;
      transition: transform 0.2s ease-out;
    }
    .modal-content button[type="submit"]:hover { transform: scale(1.05); }
    .disclaimer {
      font-size: 12px;
      color: rgba(224,224,224,0.7);
      margin-top: 10px;
    }

    /* Animaciones Sinusoidales */
    /* Footer */
    footer {
      background: rgba(0,0,0,0.7);
      text-align: center;
      padding: 20px;
      color: rgba(255,255,255,0.6);
      font-size: 14px;
      position: relative;
      z-index: 2;
    }
    footer a { color: #1DE9B6; margin: 0 10px; text-decoration: none; }

    /* Ajustes Responsivos */
    @media (max-width: 768px) {
      .capsule {
        width: 60px;
        height: 60px;
        border-width: 2px;
      }
      .capsule-overlay { backdrop-filter: blur(1px); }
      .hero-overlay h1 { font-size: 28px; }
      .hero-overlay p { font-size: 14px; }
      nav { flex-direction: column; height: auto; padding: 10px; }
      nav button { margin-top: 10px; width: 100%; }
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav>
    <div class="logo">La Cápsula</div>
    <button id="joinBtn">JOIN THE CAPSULE</button>
  </nav>

  <!-- Contenedor 3D (scene) -->
  <div class="scene">
    <!-- Campo Vivo (grid-plane) -->
    <div class="grid-plane"></div>
    <div class="grid-overlay"></div>
  </div>

  <!-- Hero Text Overlay -->
  <div class="hero-overlay">
    <div class="text-box">
      <h1>YOUR FACE. YOUR MESSAGE.</h1>
      <p>FOREVER IN THIS CAPSULE</p>
    </div>
  </div>

  <!-- Explicación -->
  <div class="explanation">
    <h2>WHAT IS LA CÁPSULA?</h2>
    <p>A digital time capsule open for 30 days. 1,000,000 potential spots. One chance to leave your mark. Upload your face. Write your message. Your presence will float forever.</p>
    <p id="counter">12 / 1000000 joined</p>
    <button id="joinBtn2">JOIN THE CAPSULE – USD 3</button>
  </div>

  <!-- Modal Form -->
  <div id="formModal" class="modal">
    <div class="modal-content">
      <span id="closeModal">&times;</span>
      <h2>ENTER LA CÁPSULA</h2>
      <form id="entryForm">
        <label for="faceImage">Upload Image</label>
        <input type="file" id="faceImage" accept="image/*" required>
        <label for="faceMessage">Your Message (max 100 chars)</label>
        <textarea id="faceMessage" maxlength="100" placeholder="Your message" required></textarea>
        <label for="faceLink">Optional Link</label>
        <input type="url" id="faceLink" placeholder="https://example.com">
        <label for="faceEmail">Your Email</label>
        <input type="email" id="faceEmail" placeholder="you@example.com" required>
        <button type="submit">PAY & SUBMIT</button>
      </form>
      <p class="disclaimer">USD 3 / ARS 2000. Once you submit, you cannot edit or delete.</p>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <a href="#">Privacy Policy</a>
    <a href="#">Terms</a>
    © 2025 La Cápsula. All rights reserved.
  </footer>

  <script>
    // Inicializar cápsulas
    const capsules = [];
    let joinedCount = 12;
    const scene = document.querySelector('.scene');
    const counter = document.getElementById('counter');

    for (let i = 0; i < 12; i++) {
      const baseX = Math.random() * 100 - 50;
      const baseY = Math.random() * 100 - 50;
      const baseZ = Math.random() * 1000 - 500;
      capsules.push({
        id: i + 1,
        baseX,
        baseY,
        baseZ,
        phaseX: Math.random() * Math.PI * 2,
        phaseY: Math.random() * Math.PI * 2,
        phaseZ: Math.random() * Math.PI * 2,
        speedX: Math.random() * 0.001 + 0.0005,
        speedY: Math.random() * 0.001 + 0.0005,
        speedZ: Math.random() * 0.002 + 0.0005,
        amplitudeX: Math.random() * 10 + 5,
        amplitudeY: Math.random() * 10 + 5,
        amplitudeZ: Math.random() * 200 + 100
      });
    }

    // Renderizar cápsulas
    function renderCapsules() {
      capsules.forEach(capsule => {
        const el = document.createElement('div');
        el.className = 'capsule';
        el.id = `capsule-${capsule.id}`;
        const overlay = document.createElement('div');
        overlay.className = 'capsule-overlay';
        el.appendChild(overlay);
        scene.appendChild(el);
      });
    }

    // Animación principal de cápsulas
    function updateCapsules() {
      const t = performance.now() / 1000;
      capsules.forEach(capsule => {
        let x = capsule.baseX + Math.sin(t * capsule.speedX + capsule.phaseX) * capsule.amplitudeX;
        let y = capsule.baseY + Math.sin(t * capsule.speedY + capsule.phaseY) * capsule.amplitudeY;
        let z = capsule.baseZ + Math.sin(t * capsule.speedZ + capsule.phaseZ) * capsule.amplitudeZ;

        // Wrap z when out of bounds
        if (z > 600 || z < -600) {
          capsule.baseZ = Math.random() * 1000 - 500;
          capsule.phaseX = Math.random() * Math.PI * 2;
          capsule.phaseY = Math.random() * Math.PI * 2;
          capsule.phaseZ = Math.random() * Math.PI * 2;
          capsule.speedX = Math.random() * 0.001 + 0.0005;
          capsule.speedY = Math.random() * 0.001 + 0.0005;
          capsule.speedZ = Math.random() * 0.002 + 0.0005;
          capsule.amplitudeX = Math.random() * 10 + 5;
          capsule.amplitudeY = Math.random() * 10 + 5;
          capsule.amplitudeZ = Math.random() * 200 + 100;
        }
        if (x > 60 || x < -60) capsule.baseX = Math.random() * 100 - 50;
        if (y > 60 || y < -60) capsule.baseY = Math.random() * 100 - 50;

        const scale = ((z + 500) / 1000) + 0.2;
        const el = document.getElementById(`capsule-${capsule.id}`);
        el.style.transform = `translate3d(${x}vw, ${y}vh, ${z}px) scale(${scale})`;
      });
      requestAnimationFrame(updateCapsules);
    }
    // Animación del Campo Vivo
    function updateGrid() {
      const t = performance.now() / 1000;
      const angleBase = 60;
      const newAngle = angleBase + Math.sin(t * 0.5) * 2;
      const newZ = -200 + Math.sin(t * 0.3) * 20;
      const grid = document.querySelector(".grid-plane");
      grid.style.transform = `rotateX(${newAngle}deg) translateZ(${newZ}px)`;
      requestAnimationFrame(updateGrid);
    }


    // Manejo de Modal
    function showModal() { document.getElementById('formModal').style.display = 'flex'; }
    function hideModal() { document.getElementById('formModal').style.display = 'none'; }

    // Manejo de Envío de Formulario
    document.getElementById('entryForm').addEventListener('submit', e => {
      e.preventDefault();
      alert('Thank you! Your submission is received.');
      hideModal();
      joinedCount++;
      counter.textContent = joinedCount + ' / 1000000 joined';

      const baseX = Math.random() * 100 - 50;
      const baseY = Math.random() * 100 - 50;
      const baseZ = Math.random() * 1000 - 500;
      const newCaps = {
        id: capsules.length + 1,
        baseX,
        baseY,
        baseZ,
        phaseX: Math.random() * Math.PI * 2,
        phaseY: Math.random() * Math.PI * 2,
        phaseZ: Math.random() * Math.PI * 2,
        speedX: Math.random() * 0.001 + 0.0005,
        speedY: Math.random() * 0.001 + 0.0005,
        speedZ: Math.random() * 0.002 + 0.0005,
        amplitudeX: Math.random() * 10 + 5,
        amplitudeY: Math.random() * 10 + 5,
        amplitudeZ: Math.random() * 200 + 100
      };
      capsules.push(newCaps);
      const el = document.createElement('div');
      el.className = 'capsule';
      el.id = `capsule-${newCaps.id}`;
      const overlay = document.createElement('div');
      overlay.className = 'capsule-overlay';
      el.appendChild(overlay);
      scene.appendChild(el);
      e.target.reset();
    });

    document.getElementById('joinBtn').addEventListener('click', showModal);
    document.getElementById('joinBtn2').addEventListener('click', showModal);
    document.getElementById('closeModal').addEventListener('click', hideModal);

    window.addEventListener('DOMContentLoaded', () => {
      renderCapsules();
      counter.textContent = joinedCount + ' / 1000000 joined';
      updateGrid();
      updateCapsules();
    });
  </script>
</body>
</html>
