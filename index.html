<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>La CÃ¡psula</title>
<style>
html,body{margin:0;padding:0;height:100%;overflow:hidden;background:#000;font-family:Arial,Helvetica,sans-serif;color:#fff}
#background{position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at center,#000,#111);z-index:0;overflow:hidden}
.particle{position:absolute;border-radius:50%;width:4px;height:4px;background:rgba(200,220,255,0.6);filter:blur(2px)}
#field{position:fixed;top:0;left:0;width:100%;height:100%;perspective:800px;transform-style:preserve-3d;z-index:1}
.capsule{position:absolute;width:80px;height:80px;border-radius:50%;border:2px solid #fff;box-shadow:0 0 8px rgba(255,255,255,0.2),0 4px 12px rgba(0,0,0,0.5),inset 0 0 12px rgba(0,0,0,0.4);background:radial-gradient(circle at 30% 30%,rgba(255,255,255,0.8),rgba(255,255,255,0.1) 60%,rgba(255,255,255,0.05));display:flex;align-items:center;justify-content:center;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,0.6);transform-style:preserve-3d;pointer-events:none;opacity:.25}
.capsule.front{opacity:1;pointer-events:auto}
.capsule span{pointer-events:none;font-weight:bold}
@keyframes drift{0%{transform:translate3d(var(--x),var(--y),-3000px) scale(.2);opacity:.25}50%{transform:translate3d(var(--x),var(--y),0) scale(1);opacity:1}100%{transform:translate3d(var(--x),var(--y),3000px) scale(.2);opacity:.25}}
#tooltip{position:absolute;display:none;background:rgba(0,0,0,0.8);padding:8px 12px;border-radius:4px;border:1px solid #fff;font-size:12px;white-space:nowrap;pointer-events:none;z-index:2}
@media(max-width:600px){.capsule{width:60px;height:60px;font-size:12px}}
</style>
</head>
<body>
<div id="background"></div>
<div id="field"></div>
<div id="tooltip"></div>
<script>
const capsulesData=Array.from({length:10000},(_,i)=>({id:i+1,photoUrl:`photos/${i+1}.jpg`,message:`User message ${i+1}`,link:''}));
const field=document.getElementById('field');
const tooltip=document.getElementById('tooltip');
const duration=45;const delayStep=5;const vw=window.innerWidth;const vh=window.innerHeight;
// particles
const bg=document.getElementById('background');
const particles=[];const pCount=20+Math.floor(Math.random()*11);
for(let i=0;i<pCount;i++){const d=document.createElement('div');d.className='particle';bg.appendChild(d);particles.push({el:d,ox:Math.random()*vw,oy:Math.random()*vh,ax:50+Math.random()*50,ay:50+Math.random()*50,sx:.5+Math.random(),sy:.5+Math.random(),phase:Math.random()*Math.PI*2});}
function animateParticles(t){particles.forEach(p=>{const x=p.ox+Math.sin(t/1000*p.sx+p.phase)*p.ax;const y=p.oy+Math.cos(t/1000*p.sy+p.phase)*p.ay;p.el.style.transform=`translate3d(${x}px,${y}px,0)`;p.el.style.opacity=0.1+0.2*(0.5+Math.sin(t/1000+p.phase)/2);});requestAnimationFrame(animateParticles);}requestAnimationFrame(animateParticles);
// capsules
capsulesData.forEach((c,i)=>{const d=document.createElement('div');d.className='capsule';d.innerHTML=`<span>${c.id}</span>`;const x=Math.random()*vw*4-vw*2;const y=Math.random()*vh*4-vh*2;d.style.setProperty('--x',x+'px');d.style.setProperty('--y',y+'px');d.style.animation=`drift ${duration}s linear forwards`;const delay=i*delayStep;d.style.animationDelay=delay+'s';field.appendChild(d);const frontTime=delay+duration/2;setTimeout(()=>d.classList.add('front'),frontTime*1000);setTimeout(()=>d.classList.remove('front'),(frontTime+5)*1000);d.addEventListener('click',e=>{if(!d.classList.contains('front'))return;tooltip.style.display='block';tooltip.textContent=c.message;const r=d.getBoundingClientRect();tooltip.style.left=r.left+r.width/2-tooltip.offsetWidth/2+'px';tooltip.style.top=r.top-tooltip.offsetHeight-8+'px';e.stopPropagation();});});
document.addEventListener('click',()=>tooltip.style.display='none');
</script>
</body>
</html>
